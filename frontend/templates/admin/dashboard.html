{% extends "base.html" %}

{% block title %} | Admin Dashboard{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
{% endblock %}

{% block content %}
<div class="admin-page">
    <div class="admin-header">
        <div class="admin-title">
            <h1>Admin Dashboard</h1>
            <p>System overview and management tools</p>
        </div>
        <div class="admin-badge">
            <span class="admin-icon">🔮</span>
            {{session['first_name']}}
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon users-icon">🧟</div>
            <div class="stat-content">
                <div class="stat-number">{{ stats.total_users or 0 }}</div>
                <div class="stat-label">Total Users</div>
                <div class="stat-detail">{{ stats.admin_users or 0 }} admins, {{ stats.regular_users or 0 }} regular</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon games-icon">🛸</div>
            <div class="stat-content">
                <div class="stat-number">{{ stats.total_games or 0 }}</div>
                <div class="stat-label">Total Games</div>
                <div class="stat-detail">{{ stats.total_genres }} Genres</div>
            </div>
        </div>

        <div class="stat-card" style="display:none">
            <div class="stat-icon comments-icon">💬</div>
            <div class="stat-content">
                <div class="stat-number">{{ stats.total_comments or 0 }}</div>
                <div class="stat-label">Total Comments</div>
                <div class="stat-detail">Community discussions</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon activity-icon">📈</div>
            <div class="stat-content">
                <div class="stat-number">{{ stats.recent_users or 0 }}</div>
                <div class="stat-label">New Users (7d)</div>
                <div class="stat-detail">Recent registrations</div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon engagement-icon">🔥</div>
            <div class="stat-content">
                <div class="stat-number">{{ stats.recent_comments or 0 }}</div>
                <div class="stat-label">New Comments (7d)</div>
                <div class="stat-detail">Recent activity</div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="admin-sections">
        <div class="admin-section">
            <div class="section-header">
                <h2>User Management</h2>
                <p>Manage user accounts and permissions</p>
            </div>
            <div class="action-cards">
                <a href="{{ url_for('admin.users') }}" class="action-card">
                    <div class="stat-icon users-icon">🧟</div>
                    <div class="action-content">
                        <h3>Manage Users</h3>
                        <p>View, edit, and delete user accounts</p>
                        <span class="action-count">{{ stats.total_users or 0 }} users</span>
                    </div>
                    <div class="action-arrow">→</div>
                </a>
            </div>
        </div>

        <div class="admin-section">
            <div class="section-header">
                <h2>Content Moderation</h2>
                <p>Review and manage user-generated content</p>
            </div>
            <div class="action-cards">
                {# <a href="{{ url_for('admin_games') }}" class="action-card"> #}
                <a href="#" class="action-card">
                    <div class="stat-icon games-icon">🛸</div>
                    <div class="action-content">
                        <h3>Moderate Games</h3>
                        <p>Review, edit, and remove games</p>
                        <span class="action-count">{{ stats.total_games or 0 }} games</span>
                    </div>
                    <div class="action-arrow">→</div>
                </a>

                {# <a href="{{ url_for('admin.comments') }}" class="action-card"> #}
                <a href="#" class="action-card">
                    <div class="stat-icon engagement-icon">🐄</div>
                    <div class="action-content">
                        <h3>Moderate Comments</h3>
                        <p>Review, edit, and remove comments</p>
                        <span class="action-count">{{ stats.total_comments or 0 }} comments</span>
                    </div>
                    <div class="action-arrow">→</div>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}